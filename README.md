# Внешний скрипт запуска для разрешения конфликтов в обработках 1С

`используется при работе с GitFlow процессом`

для понимающих проблему

* когда вы работаете с внешними обработками в git через precommit
* при росте контрибьюторов у вас рано или поздно возникнет конфликт между ветками в бинарных файлах epf
* конфликт будет требовать ручной проверки epf.base, epf.remote и epf.origin и финального слияния

**СТАТУС - Работающий, но НЕ стабильный инструмент**

не решенные проблемы:

* запуск 3-ёх стороннего объединения средствами KDIFF3 из Конфигуратора 1С
* изменение типов реквизитов при открытии в сервисной конфигурации

## Необходые утилиты

* 1C версии 8.3.8
* установить [oscript.io](http://oscript.io) как обычно

## Для работы необходимо

при работе из командной строки git bash

* запустить командную строку с подстановкой переменных

* `LOCAL` - локальная версия Epf с конфликтом
* `REMOTE` - объединяемая версия Epf с конфликтом
* `MERGED` - результирующая обработка Epf с разрешенными конфликтами

```Shell
oscript <АдресСклонированногоРепозитория>/MergeEPF.os <АдресСклонированногоРепозитория>/Main.json $LOCAL $REMOTE $MERGED > %TEMP%/MergeEPF.txt.log
```



при работе в SourceTree открыть настройки и в секции "Сравнение" указать утилиту слияния

```
* Merge tool: Custom (Пользовательский)
* Diff command: oscript.exe
* Arguments: <АдресСклонированногоРепозитория>/MergeEPF.os <АдресСклонированногоРепозитория>/Main.json $LOCAL $REMOTE $MERGED > %TEMP%/MergeEPF.txt.log
```

после разрешения конфликта вернуть утилиту слияния в предыдущее состояние
